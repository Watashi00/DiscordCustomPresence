<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CustomRP</title>
    <link rel="stylesheet" href="/src/styles.css" />
    <script type="module" src="/src/main.ts" defer></script>
  </head>

  <body>
    <main class="shell">
      <!-- LEFT: editor -->
      <section class="pane editor">
        <header class="topbar">
          <div class="brand">
            <div class="mark"></div>
            <div class="brandText">
              <div class="brandTitle">Custom Rich Presence</div>
              <div class="brandSub">Discord - Linux</div>
            </div>
          </div>

          <div class="topbarRight">
            <div class="status">
              <span class="pillStatus" id="uiStatus">Ready</span>
              <span class="statusHint" id="uiHint">No pending actions</span>
            </div>

            <div class="actions">
              <!-- Help button (placeholder link for future docs) -->
              <a id="helpBtn" class="btn ghost" href="https://github.com/Watashi00/DiscordCustomPresence#readme" target="_blank" rel="noreferrer">
                Help
              </a>

              <button id="updateBtn" class="btn ghost">Update now</button>
              <button id="toggleBtn" class="btn primary">Enable</button>
            </div>
          </div>
        </header>

        <div class="scroll">
          <!-- Connection -->
          <section class="section">
            <div class="sectionHead">
              <div>
                <div class="sectionTitle">Connection</div>
                <div class="sectionSub">Set the Client ID and sync data (optional).</div>
              </div>
              <div class="sectionActions">
                <button id="syncUserBtn" class="btn ghost">Sync user</button>
                <button id="syncAppBtn" class="btn ghost">Sync app icon</button>
              </div>
            </div>

            <div class="card">
              <label class="field">
                <span class="label">Client ID (Application ID)</span>
                <input id="clientId" placeholder="e.g. 123456789987654321" inputmode="numeric" />
              </label>

              <div class="hintGrid">
                <div class="hint">
                  <div class="hintTitle">Sync user</div>
                  <div class="hintText">Username + avatar via IPC handshake (Discord Desktop).</div>
                </div>
                <div class="hint">
                  <div class="hintTitle">Sync app icon</div>
                  <div class="hintText">App name + icon via the public RPC endpoint (by client_id).</div>
                </div>
              </div>
            </div>
          </section>

          <!-- Activity text -->
          <section class="section">
            <div class="sectionHead">
              <div>
                <div class="sectionTitle">Activity</div>
                <div class="sectionSub">What appears on the Discord card.</div>
              </div>
              <label class="toggle">
                <input type="checkbox" id="ts" checked />
                <span>Timestamp (start now)</span>
              </label>
            </div>

            <div class="card">
              <div class="grid2">
                <label class="field">
                  <span class="label">Details</span>
                  <input id="details" placeholder="e.g. in development" />
                </label>

                <label class="field">
                  <span class="label">State</span>
                  <input id="state" placeholder="e.g. custom rich presence using Rust" />
                </label>
              </div>
            </div>
          </section>

          <!-- Discord assets -->
          <section class="section">
            <div class="sectionHead">
              <div>
                <div class="sectionTitle">Assets</div>
                <div class="sectionSub">Keys from the Developer Portal or URLs (when supported by the client).</div>
              </div>
            </div>

            <div class="card">
              <div class="noteInline">
                Tip: if left blank, Discord may use the <b>App Icon</b> as a fallback.
              </div>

              <div class="grid2">
                <label class="field">
                  <span class="label">Large Image (key / URL)</span>
                  <input id="largeImage" placeholder="e.g. avatar or https://..." />
                </label>

                <label class="field">
                  <span class="label">Large Text</span>
                  <input id="largeText" placeholder="e.g. Linux CustomRP" />
                </label>

                <label class="field">
                  <span class="label">Small Image (key / URL)</span>
                  <input id="smallImage" placeholder="e.g. small or https://..." />
                </label>

                <label class="field">
                  <span class="label">Small Text</span>
                  <input id="smallText" placeholder="e.g. running locally" />
                </label>
              </div>
            </div>
          </section>

          <!-- Buttons -->
          <section class="section">
            <div class="sectionHead">
              <div>
                <div class="sectionTitle">Buttons</div>
                <div class="sectionSub">Links on the Discord card (when supported).</div>
              </div>
            </div>

            <div class="card">
              <div class="grid2">
                <label class="field">
                  <span class="label">Button 1 - Label</span>
                  <input id="b1label" placeholder="e.g. OpenSource" />
                </label>

                <label class="field">
                  <span class="label">Button 1 - URL</span>
                  <input id="b1url" placeholder="https://github.com/..." />
                </label>

                <label class="field">
                  <span class="label">Button 2 - Label</span>
                  <input id="b2label" placeholder="e.g. TocaOculta" />
                </label>

                <label class="field">
                  <span class="label">Button 2 - URL</span>
                  <input id="b2url" placeholder="https://discord.gg/..." />
                </label>
              </div>
            </div>
          </section>

          <!-- Preview media (local/URL) -->
          <section class="section">
            <div class="sectionHead">
              <div>
                <div class="sectionTitle">Preview (optional images)</div>
                <div class="sectionSub">Visual-only simulation (does not affect real Discord).</div>
              </div>

              <div class="sectionActions">
                <button id="pickAvatarBtn" class="btn ghost">Avatar</button>
                <button id="pickBannerBtn" class="btn ghost">Banner</button>
                <button id="pickCardBtn" class="btn ghost">Card</button>
              </div>
            </div>

            <div class="card">
              <div class="grid2">
                <label class="field">
                  <span class="label">Preview Avatar (URL/path)</span>
                  <input id="pvAvatarSrc" placeholder="https://... or /home/user/..." />
                </label>

                <label class="field">
                  <span class="label">Preview Banner (URL/path)</span>
                  <input id="pvBannerSrc" placeholder="https://... or /home/user/..." />
                </label>

                <label class="field">
                  <span class="label">Preview Card Image (URL/path)</span>
                  <input id="pvCardImgSrc" placeholder="https://... or /home/user/..." />
                </label>

                <label class="field">
                  <span class="label">Preview Display Name</span>
                  <input id="pvDisplayName" placeholder="auto via Sync or type manually" />
                </label>

                <label class="field">
                  <span class="label">Preview @handle</span>
                  <input id="pvHandle" placeholder="@wa_tashinho" />
                </label>

                <label class="field">
                  <span class="label">Preview Status</span>
                  <input id="pvPresenceLine" placeholder="online / idle / dnd (visual)" />
                </label>
              </div>
            </div>
          </section>

          <footer class="foot">
            <div class="footText">
              Tip: "Update now" applies changes to the active RP without restarting the session.
            </div>
          </footer>
        </div>
      </section>

      <!-- RIGHT: preview -->
      <section class="pane preview">
        <header class="topbar previewTop">
          <div class="brandText">
            <div class="brandTitle">Preview</div>
            <div class="brandSub">Discord card simulation</div>
          </div>
        </header>

        <div class="scroll previewScroll">
          <!-- Profile -->
          <div class="profile">
            <div class="profileBanner" id="pvBanner"></div>
            <div class="profileRow">
              <div class="profileAvatar" id="pvAvatar"></div>
              <div class="profileMeta">
                <div class="profileName" id="pvNameText">You</div>
                <div class="profileSub">
                  <span id="pvHandleText">@handle</span>
                  <span class="dot">.</span>
                  <span id="pvStatusText">Online</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Discord-like activity card -->
          <div class="activityBlock">
            <div class="activityLabel">Current activity</div>

            <div class="dcCard">
              <div class="dcHead">
                <span class="dcPill">Playing</span>
                <span class="dcMore">...</span>
              </div>

              <div class="dcBody">
                <div class="dcMedia">
                  <div id="pvLargeArt" class="dcLarge"></div>
                  <div id="pvSmallBadge" class="dcSmall"></div>
                </div>

                <div class="dcText">
                  <div id="pvAppName" class="dcApp">App</div>
                  <div id="pvDetails" class="dcDetails">--</div>
                  <div id="pvState" class="dcState">--</div>

                  <div class="dcMeta">
                    <span class="dcController"></span>
                    <span id="pvTime">timestamp off</span>
                  </div>

                  <div class="dcAssets" id="pvAssets">large: -- / small: --</div>
                </div>
              </div>

              <div class="dcBtns">
                <a id="pvBtn1" class="dcBtn" href="#" target="_blank" rel="noreferrer">OpenSource</a>
                <a id="pvBtn2" class="dcBtn" href="#" target="_blank" rel="noreferrer">TocaOculta</a>
              </div>
            </div>

            <div class="previewNote">
              Preview is visual. Real Discord can vary (theme, font, spacing).
            </div>
          </div>
        </div>
      </section>
    </main>
  </body>
</html>
