<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CustomRP Linux</title>
    <link rel="stylesheet" href="/src/styles.css" />
    <script type="module" src="/src/main.ts" defer></script>
  </head>

  <body>
    <main class="shell">
      <!-- LEFT: editor -->
      <section class="pane editor">
        <header class="topbar">
          <div class="brand">
            <div class="mark"></div>
            <div class="brandText">
              <div class="brandTitle">Custom Rich Presence</div>
              <div class="brandSub">Discord · Linux</div>
            </div>
          </div>

          <div class="topbarRight">
            <div class="status">
              <span class="pillStatus" id="uiStatus">Pronto</span>
              <span class="statusHint" id="uiHint">Sem ações pendentes</span>
            </div>

            <div class="actions">
              <!-- Help button (placeholder link for future docs) -->
              <a id="helpBtn" class="btn ghost" href="https://github.com/Watashi00/DiscordCustomPresence#readme" target="_blank" rel="noreferrer">
                Ajuda
              </a>

              <button id="updateBtn" class="btn ghost">Atualizar agora</button>
              <button id="toggleBtn" class="btn primary">Ativar</button>
            </div>
          </div>
        </header>

        <div class="scroll">
          <!-- Connection -->
          <section class="section">
            <div class="sectionHead">
              <div>
                <div class="sectionTitle">Conexão</div>
                <div class="sectionSub">Defina o Client ID e sincronize dados (opcional).</div>
              </div>
              <div class="sectionActions">
                <button id="syncUserBtn" class="btn ghost">Sync usuário</button>
                <button id="syncAppBtn" class="btn ghost">Sync app icon</button>
              </div>
            </div>

            <div class="card">
              <label class="field">
                <span class="label">Client ID (Application ID)</span>
                <input id="clientId" placeholder="ex: 123456789987654321" inputmode="numeric" />
              </label>

              <div class="hintGrid">
                <div class="hint">
                  <div class="hintTitle">Sync usuário</div>
                  <div class="hintText">Username + avatar via IPC handshake (Discord Desktop).</div>
                </div>
                <div class="hint">
                  <div class="hintTitle">Sync app icon</div>
                  <div class="hintText">Nome + ícone do app via endpoint RPC público (por client_id).</div>
                </div>
              </div>
            </div>
          </section>

          <!-- Activity text -->
          <section class="section">
            <div class="sectionHead">
              <div>
                <div class="sectionTitle">Atividade</div>
                <div class="sectionSub">O que aparece no card do Discord.</div>
              </div>
              <label class="toggle">
                <input type="checkbox" id="ts" checked />
                <span>Timestamp (start now)</span>
              </label>
            </div>

            <div class="card">
              <div class="grid2">
                <label class="field">
                  <span class="label">Details</span>
                  <input id="details" placeholder="ex: in development" />
                </label>

                <label class="field">
                  <span class="label">State</span>
                  <input id="state" placeholder="ex: custom rich presence using Rust" />
                </label>
              </div>
            </div>
          </section>

          <!-- Discord assets -->
          <section class="section">
            <div class="sectionHead">
              <div>
                <div class="sectionTitle">Assets</div>
                <div class="sectionSub">Keys do Developer Portal ou URLs (quando suportado pelo client).</div>
              </div>
            </div>

            <div class="card">
              <div class="noteInline">
                Dica: se deixar vazio, o Discord pode usar o <b>App Icon</b> como fallback.
              </div>

              <div class="grid2">
                <label class="field">
                  <span class="label">Large Image (key / URL)</span>
                  <input id="largeImage" placeholder="ex: avatar ou https://..." />
                </label>

                <label class="field">
                  <span class="label">Large Text</span>
                  <input id="largeText" placeholder="ex: Linux CustomRP" />
                </label>

                <label class="field">
                  <span class="label">Small Image (key / URL)</span>
                  <input id="smallImage" placeholder="ex: small ou https://..." />
                </label>

                <label class="field">
                  <span class="label">Small Text</span>
                  <input id="smallText" placeholder="ex: rodando local" />
                </label>
              </div>
            </div>
          </section>

          <!-- Buttons -->
          <section class="section">
            <div class="sectionHead">
              <div>
                <div class="sectionTitle">Botões</div>
                <div class="sectionSub">Links do card do Discord (quando suportado).</div>
              </div>
            </div>

            <div class="card">
              <div class="grid2">
                <label class="field">
                  <span class="label">Botão 1 — Label</span>
                  <input id="b1label" placeholder="ex: OpenSource" />
                </label>

                <label class="field">
                  <span class="label">Botão 1 — URL</span>
                  <input id="b1url" placeholder="https://github.com/..." />
                </label>

                <label class="field">
                  <span class="label">Botão 2 — Label</span>
                  <input id="b2label" placeholder="ex: TocaOculta" />
                </label>

                <label class="field">
                  <span class="label">Botão 2 — URL</span>
                  <input id="b2url" placeholder="https://discord.gg/..." />
                </label>
              </div>
            </div>
          </section>

          <!-- Preview media (local/URL) -->
          <section class="section">
            <div class="sectionHead">
              <div>
                <div class="sectionTitle">Preview (imagens opcionais)</div>
                <div class="sectionSub">Apenas para simulação visual (não altera o Discord real).</div>
              </div>

              <div class="sectionActions">
                <button id="pickAvatarBtn" class="btn ghost">Avatar</button>
                <button id="pickBannerBtn" class="btn ghost">Banner</button>
                <button id="pickCardBtn" class="btn ghost">Card</button>
              </div>
            </div>

            <div class="card">
              <div class="grid2">
                <label class="field">
                  <span class="label">Preview Avatar (URL/path)</span>
                  <input id="pvAvatarSrc" placeholder="https://... ou /home/user/..." />
                </label>

                <label class="field">
                  <span class="label">Preview Banner (URL/path)</span>
                  <input id="pvBannerSrc" placeholder="https://... ou /home/user/..." />
                </label>

                <label class="field">
                  <span class="label">Preview Card Image (URL/path)</span>
                  <input id="pvCardImgSrc" placeholder="https://... ou /home/user/..." />
                </label>

                <label class="field">
                  <span class="label">Preview Nome exibido</span>
                  <input id="pvDisplayName" placeholder="auto via Sync ou digite manual" />
                </label>

                <label class="field">
                  <span class="label">Preview @handle</span>
                  <input id="pvHandle" placeholder="@wa_tashinho" />
                </label>

                <label class="field">
                  <span class="label">Preview Status</span>
                  <input id="pvPresenceLine" placeholder="online / ausente / ocupado (visual)" />
                </label>
              </div>
            </div>
          </section>

          <footer class="foot">
            <div class="footText">
              Dica: “Atualizar agora” aplica alterações no RP ativo sem reiniciar a sessão.
            </div>
          </footer>
        </div>
      </section>

      <!-- RIGHT: preview -->
      <section class="pane preview">
        <header class="topbar previewTop">
          <div class="brandText">
            <div class="brandTitle">Preview</div>
            <div class="brandSub">simulação do card do Discord</div>
          </div>
        </header>

        <div class="scroll previewScroll">
          <!-- Profile -->
          <div class="profile">
            <div class="profileBanner" id="pvBanner"></div>
            <div class="profileRow">
              <div class="profileAvatar" id="pvAvatar"></div>
              <div class="profileMeta">
                <div class="profileName" id="pvNameText">Você</div>
                <div class="profileSub">
                  <span id="pvHandleText">@handle</span>
                  <span class="dot">•</span>
                  <span id="pvStatusText">Online</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Discord-like activity card -->
          <div class="activityBlock">
            <div class="activityLabel">Atividade atual</div>

            <div class="dcCard">
              <div class="dcHead">
                <span class="dcPill">Jogando</span>
                <span class="dcMore">⋯</span>
              </div>

              <div class="dcBody">
                <div class="dcMedia">
                  <div id="pvLargeArt" class="dcLarge"></div>
                  <div id="pvSmallBadge" class="dcSmall"></div>
                </div>

                <div class="dcText">
                  <div id="pvAppName" class="dcApp">App</div>
                  <div id="pvDetails" class="dcDetails">—</div>
                  <div id="pvState" class="dcState">—</div>

                  <div class="dcMeta">
                    <span class="dcController"></span>
                    <span id="pvTime">timestamp off</span>
                  </div>

                  <div class="dcAssets" id="pvAssets">large: — · small: —</div>
                </div>
              </div>

              <div class="dcBtns">
                <a id="pvBtn1" class="dcBtn" href="#" target="_blank" rel="noreferrer">OpenSource</a>
                <a id="pvBtn2" class="dcBtn" href="#" target="_blank" rel="noreferrer">TocaOculta</a>
              </div>
            </div>

            <div class="previewNote">
              Preview é visual. O Discord real pode variar (tema, fonte, espaçamento).
            </div>
          </div>
        </div>
      </section>
    </main>
  </body>
</html>
